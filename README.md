# Проект Парсер ВБ
## Описание проекта

Проект позволяет добавлять товар в базу данных с сайта ВБ по его внутреннему номенклатурному номеру. Работа с БД реализована при помощи телеграмм бота.


## Технологии и библиотеки использованные в проекте:
* Python 3.10
* FastApi 0.109
* Pydantic 2.0
* Requests 2.31
* SQLAlchemy 2.0
* Pydantic 2.0
* Uvicorn 0.27

* Docker
* Docker compose
* Telegram API
* БД PostgreSQL
* REST API

## Особенности реализации

- Бот и приложение парсера завернуты в Docker-контейнеры;
- Для взаимодейтсвия между контейнерами поднимается сеть через docker compose;
- Бот реализован на технологии getUpdates для простоты реализации, в связи с этим бот немного задумчивый;

## Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

    git clone git@github.com:ShelepovNikita/wb_parser.git
    cd wb_parser


Cоздать в папке .env файл с переменными окружения.
Используемые переменные окружения (с примерами):

    TOKEN=Токен бота от BotFather
    POSTGRES_USER=postgres
    POSTGRES_PASSWORD=postgres
    POSTGRES_DB=postgres

Запустить проект с помощью Docker:

    (sudo) docker compose up

Документация проекта доступна по адресам:

    [swagger](http://0.0.0.0/docs)
    [redoc](http://0.0.0.0/redoc)

## Примеры запросов к API:

Получение списка всех добавленных в БД продуктов (GET):

    http://0.0.0.0:80/products

Добавление продукта по nm_id (POST):

    http://0.0.0.0:80/products

Получение описания конкретного продукта из БД (GET):

    http://0.0.0.0:80/products/{nm_id}

Удаление продукта из БД (DELETE):

    http://0.0.0.0:80/products/delete/{nm_id}


## Описание команд для взаимодейтсвия с ботом:

- /help - Список всех команд;
- /add - Добавить товар в БД по nm_id;
- /products - Посмотреть все товары из БД;
- /get_product - Посмотреть товар в БД по nm_id;
- /delete_product - Удалить товар из БД по nm_id;

**Проект написан в рамках тестового задания, разработка бота для парсинга ВБ.**


## Над проектом работал

[ShelepovNikita](https://github.com/ShelepovNikita) - Шелепов Никита
